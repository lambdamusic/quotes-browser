




<!DOCTYPE html>
<html lang="en">
  <head>
    
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-T4B4FDV3TR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-T4B4FDV3TR');
</script>


    
    

    <script src="../../media/static/libs/d3-v3/d3.v3.min.js"></script>



    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="author" content="Michele Pasin">
  
    <meta name="description" property="og:description" content=" Portfolio website of Michele Pasin - computer science ontology knowledge graph digital humanities knowledge engineering pilosophy livecoding algorithmic composition">
  


    <link rel="icon" href="../../media/static/favicon.ico">

	
  <title>Source | quotes.michelepasin.org</title>


    <!-- Bootstrap core CSS -->
    
    <!-- Bootswatch:  -->
    <!-- cerulean  | cyborg |  flatly |  lumen |  sandstone |   spacelab  |  yeti | cosmo |  darkly |  paper | simplex | superhero |  journal | readable  |   slate |  united -->
    <link href="../../media/static/libs/bootswatch3.2/simplex/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../media/static/libs/bootstrap-3.3.7-dist/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../media/static/libs/bootstrap-3.3.7-dist/css/sticky-footer-navbar.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<style type="text/css">

    .tooltip-inner {
        max-width: 200px;
        /* If max-width does not work, try using width instead */
        width: 200px; 
    }
    .lead-plus {font-size: 26.5px;}
    .label-dark {background: #2c3e50; color: white; padding: 1px;}
    .margin50 {margin-top: 50px; margin-bottom: 50px;}
    .marginb100 {margin-bottom: 100px;}

    .breadcrumbs {margin-top: 80px;}
    .namespaces {background: #ced2d6; width: 100%;}
    .footer {background-color: #3e3f3a;}
    .footer a {color: #cac0bf;}

    .margin50Top {margin-top: 50px;}
    .margin20Top {margin-top: 20px;}
    .margin50Bottom { margin-bottom: 50px;}
    .margin20Bottom { margin-bottom: 20px;}

    /*so that the d3plus tooltip panel doesnt cover the top banner*/
    .navbar {z-index: 3000;}


    .navbar-alpha {
        font-size: 65%;
        font-style: italic;
        font-weight: bold;
        color: darkgoldenrod;
    }


    .btn-xxs {
    padding: 1px 4px;
    font-size: 10px;
    line-height: 1.2;
    border-radius: 2px;
    }


    .code-example {
        overflow: auto;
        height: 400px;
    }


    #side_title a {
        color: blue;
        text-decoration: underline;

    }
    .text-dark {
        color: #5d5c5c;
        
    }


    .paragraph_embed {
      margin-top: 50px;
      margin-bottom: 20px;
    }


    a.project-title {
      color: black;
      font-weight: bold;
      text-decoration: none;
    }

    a.project-title:hover {
      background: indianred;
      color: white;
    }

    a.project-active {
      background: #d87064;
      color: white;
      padding: 2px;
    }

    .keyword {
      font-style: italic;
      color: grey;
      text-decoration: none;
      font-size: 12px;
    }
    .keyword-sm {
      font-style: italic;
      color: grey;
      text-decoration: none;
      font-size: 11px;
    }

    a.paper-active {
      background: #d9230f;
      color: white;
    }

    a.ext_link {
      color: darkgrey;
    }

    .text-black {
      color: black;
    }

     /* modal google search */ 

    .modal .modal-dialog
    {
        width: 800px;
        max-width: 95%;
        margin-left: auto;
        margin-right: auto;
    }

    .modal-open .modal, a:focus
    {
        outline: none !important;
    }


    


    h2.blogtitle {
      color: black;
      margin-top: 40px;
    }


    .blogentry {
      font-size: 1.3em;
      margin-top: 50px;
      margin-bottom: 120px;
      color: #444;
      /* font-family: "Helvetica Neue", Helvetica, Arial, Sans-Serif;  */
    }

    .blogentry p.first-paragraph {
      font-weight: bold;
      font-size: 1.1em;
    }

    .blogentry p {
      margin-top: 30px;
      margin-bottom: 30px;
    }

    .blogentry div {
      margin-top: 20px;
      margin-bottom: 20px;
    }

    .blogentry blockquote:first-of-type {
      font-size: 20px;
      font-weight: normal;
      background: #f9f9f9;
      border-left: 10px solid #ccc;
      margin: 1.5em 10px;
      padding: 0.7em 10px;
    }


    .blogentry blockquote {
      font-size: 16px;
      background: #f9f9f9;
      margin: 10px 30px 40px 10px; /* top right bottom left */
      padding: 25px;
    }


    .blogentry  blockquote p:first-child, blockquote ul:first-child, blockquote ol:first-child {
      margin-top: 0;
    }


    .blogentry pre {
      margin-bottom: 40px;
    }

    .blogentry h1,  
    .blogentry h2,  
    .blogentry h3,  
    .blogentry h4  {
      margin-top: 50px;
      margin-bottom: 30px;
      font-weight: bold;
      color: #000;
    }

    .blogentry img {
      max-width: 80%;
      margin-top: 20px;
      margin-bottom: 20px;
    }

    .blogentry iframe {
      margin-top: 20px;
      margin-bottom: 20px;
    }

    .blogentry ul {
      margin-bottom: 20px;
    }

    .blogentry li {
      padding: 5px;
    }


    .quote-title {
      font-size: 2.0em;
      font-weight: bold;
      color: rgb(0, 0, 0);
    }

    .quote-block {
      font-family: sans-serif, Helvetica;
      font-size: 25px;
      border-left: 5px solid #9bccea;  //  /* #ffe700 2024-11-27 changed */ 
      background: #f9f9f9;
      margin: 0px 30px 40px 10px;
      padding: 25px;
    }

    
    .quote-block p::first-letter {
      font-size: 150%;
      color: rgb(62, 61, 61);
    }

    li.quotes-list {
      list-style-type: none;
      margin-bottom: 10px;
    }



    fieldset {
      border: 1px groove #ddd !important;
      padding: 0 1.4em 1.4em 1.4em !important;
      margin: 0 0 1.5em 0 !important;
      -webkit-box-shadow:  0px 0px 0px 0px #000;
              box-shadow:  0px 0px 0px 0px #000;
    }
  
    legend {
      width:inherit; /* Or auto */
      padding:0 10px; /* To give a bit of padding on the left and right */
      border-bottom:none;
    }

</style>


<style>

<!-- Autogenerated with pygmentize => https://python-markdown.github.io/extensions/code_hilite/#step-2-add-css-classes -->

pre { line-height: 125%; }
td.linenos .normal { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
span.linenos { color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px; }
td.linenos .special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.codehilite .hll { background-color: #ffffcc }
.codehilite { background: #f8f8f8; }
.codehilite .c { color: #3D7B7B; font-style: italic } /* Comment */
.codehilite .err { border: 1px solid #FF0000 } /* Error */
.codehilite .k { color: #008000; font-weight: bold } /* Keyword */
.codehilite .o { color: #666666 } /* Operator */
.codehilite .ch { color: #3D7B7B; font-style: italic } /* Comment.Hashbang */
.codehilite .cm { color: #3D7B7B; font-style: italic } /* Comment.Multiline */
.codehilite .cp { color: #9C6500 } /* Comment.Preproc */
.codehilite .cpf { color: #3D7B7B; font-style: italic } /* Comment.PreprocFile */
.codehilite .c1 { color: #3D7B7B; font-style: italic } /* Comment.Single */
.codehilite .cs { color: #3D7B7B; font-style: italic } /* Comment.Special */
.codehilite .gd { color: #A00000 } /* Generic.Deleted */
.codehilite .ge { font-style: italic } /* Generic.Emph */
.codehilite .gr { color: #E40000 } /* Generic.Error */
.codehilite .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.codehilite .gi { color: #008400 } /* Generic.Inserted */
.codehilite .go { color: #717171 } /* Generic.Output */
.codehilite .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.codehilite .gs { font-weight: bold } /* Generic.Strong */
.codehilite .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.codehilite .gt { color: #0044DD } /* Generic.Traceback */
.codehilite .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.codehilite .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.codehilite .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.codehilite .kp { color: #008000 } /* Keyword.Pseudo */
.codehilite .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.codehilite .kt { color: #B00040 } /* Keyword.Type */
.codehilite .m { color: #666666 } /* Literal.Number */
.codehilite .s { color: #BA2121 } /* Literal.String */
.codehilite .na { color: #687822 } /* Name.Attribute */
.codehilite .nb { color: #008000 } /* Name.Builtin */
.codehilite .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.codehilite .no { color: #880000 } /* Name.Constant */
.codehilite .nd { color: #AA22FF } /* Name.Decorator */
.codehilite .ni { color: #717171; font-weight: bold } /* Name.Entity */
.codehilite .ne { color: #CB3F38; font-weight: bold } /* Name.Exception */
.codehilite .nf { color: #0000FF } /* Name.Function */
.codehilite .nl { color: #767600 } /* Name.Label */
.codehilite .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.codehilite .nt { color: #008000; font-weight: bold } /* Name.Tag */
.codehilite .nv { color: #19177C } /* Name.Variable */
.codehilite .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.codehilite .w { color: #bbbbbb } /* Text.Whitespace */
.codehilite .mb { color: #666666 } /* Literal.Number.Bin */
.codehilite .mf { color: #666666 } /* Literal.Number.Float */
.codehilite .mh { color: #666666 } /* Literal.Number.Hex */
.codehilite .mi { color: #666666 } /* Literal.Number.Integer */
.codehilite .mo { color: #666666 } /* Literal.Number.Oct */
.codehilite .sa { color: #BA2121 } /* Literal.String.Affix */
.codehilite .sb { color: #BA2121 } /* Literal.String.Backtick */
.codehilite .sc { color: #BA2121 } /* Literal.String.Char */
.codehilite .dl { color: #BA2121 } /* Literal.String.Delimiter */
.codehilite .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.codehilite .s2 { color: #BA2121 } /* Literal.String.Double */
.codehilite .se { color: #AA5D1F; font-weight: bold } /* Literal.String.Escape */
.codehilite .sh { color: #BA2121 } /* Literal.String.Heredoc */
.codehilite .si { color: #A45A77; font-weight: bold } /* Literal.String.Interpol */
.codehilite .sx { color: #008000 } /* Literal.String.Other */
.codehilite .sr { color: #A45A77 } /* Literal.String.Regex */
.codehilite .s1 { color: #BA2121 } /* Literal.String.Single */
.codehilite .ss { color: #19177C } /* Literal.String.Symbol */
.codehilite .bp { color: #008000 } /* Name.Builtin.Pseudo */
.codehilite .fm { color: #0000FF } /* Name.Function.Magic */
.codehilite .vc { color: #19177C } /* Name.Variable.Class */
.codehilite .vg { color: #19177C } /* Name.Variable.Global */
.codehilite .vi { color: #19177C } /* Name.Variable.Instance */
.codehilite .vm { color: #19177C } /* Name.Variable.Magic */
.codehilite .il { color: #666666 } /* Literal.Number.Integer.Long */


</style>







  </head>

  <body>





    

    


<!-- Fixed navbar -->
<nav class="navbar navbar-default navbar-fixed-top">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../../index.html"><span style="color: #1A8DBB;">&nbsp;quotes.</span>michelepasin<sup style="color: rgb(22, 21, 21);">&nbsp;.org</sup></a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">

        <li >
          <a href="../../tags/index.html">Tags</a></li>

        
        
           

        <li 
        
          ><a href="../../about/index.html">About</a></li>
          
          


      </ul>
    </div><!--/.nav-collapse -->

  </div>
</nav>



<!-- Search Modal -->
<div id="modalSearch" class="modal fade" role="dialog">
  <div class="modal-dialog">

      <!-- Modal content-->
      <div class="modal-content">
          <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">Search michelepasin.org</h4>
          </div>
          <div class="modal-body">


            <script>
              (function ()
              {
                  var cx = 'c23e79d025688b327:nr0bhziz1xo';
                  var gcse = document.createElement('script');
                  gcse.type = 'text/javascript';
                  gcse.async = true;
                  gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
                      '//cse.google.com/cse.js?cx=' + cx;
                  var s = document.getElementsByTagName('script')[0];
                  s.parentNode.insertBefore(gcse, s);
              })();
          </script>
          <gcse:search></gcse:search>
          
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
      </div>

  </div>
</div>


    








    <!-- Begin page content -->
    <div class="container">


	

  <div class="page-header">
    Source

	

  </div>

  <div class="container">


	

		<div class="row">

			<div class="col-sm-7 col-md-12 text-left">
				<p style="color: #e8e5e5; font-size: 800%; ">
				Designing A Url Structure For Bbc Programmes | Smethurst
				
				<span style="color: #e8e5e5; font-size: 20%; "><a href="http://smethur.st/posts/176135860" class="-underline text-muted" target="_blank">http://smethur.st/posts/176135860</a></span>
			</p>
		  
			</div>

		</div>

		<div class="row" style="margin-top: 30px;">


			<div class="col-md-8" style="margin-top: 50px;">

				<p class="lead margin50Bottom " style="color: rgb(186, 184, 184);" >In total we have 12 quotes from this source:</p>

				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="1/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Collections, seasons and franchises</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>The final set of programme-type objects are collections, seasons and franchises. Collections provide a generic way to group any type of PIPs objects (brand, series, episode, clips, segments etc) although they’re usually used to group episodes and clips into editorially coherent packages. They’re basically a way to generate a random list of things with a similar theme (and I didn’t even say “curate”). This collection of John Betjeman episodes from a variety of archive programmes would be a classic example.</p>
<p>Seasons and franchises are specialised types of collection. A season is used to group “publications”: broadcasts and iPlayer ondemands. Although, in practice, pretty much always broadcasts. They correspond to the traditional (UK) definition of a broadcast season where broadcasts of episodes from multiple programme groups are promoted as a themed season. So there might be multiple broadcasts of some Clint Eastwood film but this broadcast and only this broadcast is part of the Wild West season. The currently running World War One season would be an obvious example.</p>
<p>Franchises are intended to group “related” TLEOs (although see unstable TLEOs) usually by some narrative theme shared between original programmes and spin-offs. So you might want to call Doctor Who and Torchwood a franchise. Or Doctor Who and Sarah Jane. Or all the various Matches of the Day. Or Casualty and Holby City. Or Autumn Watch and Spring Watch. So far there are only 3 franchises in PIPs and /programmes: Daily and Sunday Politics, UK Black and Desi Download.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=broadcast.html">#broadcast</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=themes.html">#themes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=collection.html">#collection</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="2/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Building hierarchy into URLs always...</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>Building hierarchy into URLs always feels like a neat thing to do. It makes them readable and hackable and human guessable. At least for the subset of people who look at and manipulate URLs. But building in hierarchy is painful when the hierarchies change over time. And the PIPs hierarchy is not stable. Things which were orphans acquire parents as new series get made. So there might be a pilot episode that gets produced and broadcast. If it sinks like stones it will probably remain an orphan. But if the pilot works out, a series will follow and the pilot episode and the series will be wrapped into a brand (or the pilot episode made into episode 1 of the new series).</p>
<p>[...]</p>
<p>So sometimes hierarchies don’t exist and sometimes they change over time. Building them into URLs you expect to be persistent over years if not decades is a pretty bad idea.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=episodes.html">#episodes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=orphans.html">#orphans</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=series.html">#series</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=years.html">#years</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=time.html">#time</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="3/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Episodes and segments</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>Episodes usually have a running order. In a news programmes these might be individual new stories, in a music programme the tracks played, in a football programme the matches covered. In PIPs the running order is modelled as a set of segments hanging off an episode version. Because a version can have many segments and a segment can be used in many versions, segments are joined to versions via segment events. Segment objects describe the editorial content of the segment and its duration. Segment events describe where the segment occurs in the version either by position (this is the third segment) or by the offset start time (how many seconds into the version the segment starts). This allows for segment reuse between different versions of the same episode or different versions of different episodes. So a segment of the canonical version of a Top Gear episode might be a review of a Ferrari and that same segment might be reused in the canonical version of the Top Gear Christmas special or might be reused in the canonical version of a clip...</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=episodes.html">#episodes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=program.html">#program</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=events.html">#events</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=duration.html">#duration</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=same-episode.html">#same-episode</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="4/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Episodes, brand and series</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>So a few episodes exist in isolation. Films are the obvious example of episodes that stand-alone (although I guess franchises like The Godfather or Star Wars or Home Alone could be grouped together). And occasionally (fairly often on Radio 4) there are single episode documentaries or dramas which are not grouped into a wider series. And at the risk of repetition PIPs v3 (unlike v1/2) allows episodes to be orphans with no parent brand or series).</p>
<p>More commonly episodes are not orphaned and are grouped by a brand or a series (which may in turn be grouped by a brand or a series). At this point it all gets a bit complicated. An episode may be an orphan. Or it might belong to a series. Or it might belong to a brand. And a series might belong to another series. Or might belong to a brand. Or might be an orphan. And a brand is always an orphan.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=episodes.html">#episodes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=orphans.html">#orphans</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=series.html">#series</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=risk.html">#risk</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="5/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Brand and series</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>So if series can be the top item in any family tree what’s the difference between series and brands? In all honesty I’m not sure and I never have been. The series / brand distinction is a hangover from SMEF and nobody seems to remember why it was invented. There was some talk of a brand being a series with marketing value but why that isn’t just a decorated series rather than a separate class of object I’m not sure. People new to PIPs tend to assume the object at the top of the tree is always a brand and talk about brand and series pages but in truth no /programmes code takes any notice of the brand / series distinction</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=distinction.html">#distinction</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=notice.html">#notice</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="6/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;An episode can have one...</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>An episode can have one or many versions (but always at least one) with one of those marked as the “canonical” version. And a version always belongs to one and only one episode (actually versions can belong to clips too but let’s ignore that for a minute). Versions are probably the closest mapping in the model to media assets although the complications of delivering A/V online mean a version in iPlayer can have many different media files. And versions can have types. Aside from the canonical (default) version there might be versions with increased duration (the “repeat” of Desert Island Discs is longer), decreased duration (the LW version of the Today Programme) and, for TV, versions with BSL or audio description. So versions handle two aspects of change: editorial versioning (recuts) and accessibility versions.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=version.html">#version</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=media-assets.html">#media-assets</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=TV.html">#TV</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="7/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;The core of the PIPs...</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>The core of the PIPs data model is the episode. As explained above this is not the broadcast or the media asset but the more platonic grouping of media assets. I’ve heard this described in many ways from assets / broadcasts with the same “editorial intent” to assets / broadcasts telling the same “story”. So for example the Today Programme is a 3 hour broadcast on FM but a 2.5 hour broadcast on LW (the last 30 minutes make way for Yesterday in Parliament) but they’re recognisably the same episode. Or an episode of Casualty might have a BSL version and a non-BSL version but they’re recognisably the same episode. Or an episode of Merlin might get recut to be suitable for broadcast on CBBC but it’s recognisably the same episode / tells the same story. In theory at least (although not to my knowledge in practice) a Prom concert might be simulcast on Radio 3 and BBC Four so would be two media assets (one with moving pictures, one without) grouped into a single episode.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=media-assets.html">#media-assets</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=broadcast.html">#broadcast</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=story.html">#story</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=same-episode.html">#same-episode</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="8/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Episodes and clips</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>Finally clips. Clips were a later addition to the PIPs model and describing them is hard. Importantly they are not (as the name might suggest) necessarily bits clipped from full length episodes. Although they might be. They might also be a trailer for an episode, a trailer for a series, a recap of a series, a best-bits highlight package of a series, additional footage or outtakes from an episode or something else entirely. It’s maybe best to think of them as meta-programmes; “programmes” about programmes. In some way.</p>
<p>From the data model point of view clips are pretty much identical to episodes. They have all the same attributes and also have at least one, sometimes many versions. The only real difference is that a clip can belong directly to an episode or a series or a brand, unlike episodes which can only belong to a series or a brand. And not another episode. Obviously.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=episodes.html">#episodes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=series.html">#series</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=program.html">#program</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=differences.html">#differences</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="9/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;One-thing-per-page vs one-page-per-thing</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>In December of that year the first streaming version of iPlayer was released. For a whole variety of reasons the “iPlayer inside” (/programmes) model never came about and instead iPlayer became a destination in its own right. But both iPlayer and /programmes were based on PIPs and both use PIDs in their URLs:</p>
<p>http://www.bbc.co.uk/iplayer/episode/b04dzswb/the-kate-bush-story-running-up-that-hill</p>
<p>http://www.bbc.co.uk/programmes/b04dzswb</p>
<p>So while we got to one-thing-per-page we never quite got to one-page-per-thing. Though it’s worth pointing out that iPlayer episode (sometimes called item) pages only exist while an episode is available (or due to be available shortly). Once the catch-up availability window closes the iPlayer page redirects to the /programmes page. Although since the episode might be repeated and consequently the availability window might reopen this redirect is a 302 (temporary) rather than a 301 (permanent).</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=episodes.html">#episodes</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=years.html">#years</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=reasons.html">#reasons</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="10/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Versions influence genre and formats</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>Because an episode could be recut and the duration altered lots of things about that episode have the potential to change between versions. So the segments / running order / music played and contributors might change which is why they were modelled at version level. Or the episode might be recut to make it suitable for a younger audience and because “Children’s” is a genre the genre was set at version not episode level. And the same for formats. It meant that Match of the Day in its entirety was not assigned to the Sport – Football genre but every version of every episode of every series was. In the green box we propagated genres and formats up from versions, through episode to series and brands just to make it possible to build useful aggregations. But it was all a bit of a workaround. These days the PIPs model has changed and things like genres, formats and contributors are assigned at the top level and cascade down in an “inheritance with override” fashion. So an episode looking for its genres will look to see if it has any genres directly assigned and if it doesn’t will look to its parent and onwards and upwards.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=format.html">#format</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=things.html">#things</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=version.html">#version</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=audience.html">#audience</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="11/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Versions and publication events</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>Attached to a version there might be “publication events”: broadcasts and “ondemands”. A version might have zero, one or many broadcasts. Each of which might be on a different radio network or TV channel (e.g. Eastenders on BBC One and BBC Three). Networks and channels are modelled as “services” in PIPs because there isn’t a common “natural” word so SMEF went with service. And a version might have zero, one or many ondemands which determine if a version is available for iPlayer streaming or download for a given time period, territory, platform etc.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=broadcast.html">#broadcast</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=network.html">#network</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=services.html">#services</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=version.html">#version</a>&nbsp;
					
					

					
					</fieldset>
	
				
				
				<fieldset class="border p-2">
					<legend class="w-auto"><small>
						<a style="-font-size: 120%;" href="12/index.html"><small><span class="glyphicon glyphicon-pushpin" aria-hidden="true" -style="color: #cbcbcb;"></span></small>&nbsp;Restful urls</a>
						</small>
					</legend>

					<blockquote class="-quote-block">
						<p><p>In keeping with the principle of universal access to information, /programmes was designed to be RESTful. Not RESTful as in a RESTful API and some other separate website thing somewhere else. But RESTful as in some resources and some representations where one of those representations just happens to be HTML. But could be JSON or YAML or XML or RDF-XML or ICS or RSS or XSPF. And which representation you get back depends on what you choose to accept.</p>
<p>Or at least that was the case when /programmes still supported content negotiation. These days you have to request a specific representation by adding an extension to the URL (except for HTML which comes back as default (obviously)). So adding .json brings back JSON, .xml returns vanilla XML, .rdf gets you RDF-XML, .ics added to schedule views gets you ICS files and adding /segments.xspf to an episode page with a tracklist will bring back an XSPF playlist. Obviously not all URLs support all representations and some are more specialised than others.</p></p>	
						</blockquote>

					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=JSON.html">#JSON</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=XML.html">#XML</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=representation.html">#representation</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=URL.html">#URL</a>&nbsp;
					
					
					
					<a class="text-muted" href="../../tags/index.html%3Ftag=content-negotiation.html">#content-negotiation</a>&nbsp;
					
					

					
					</fieldset>
	
				


			</div>




		</div>

	
	<!-- end of row -->





    <div class="row" style="margin-top: 60px;">
    &nbsp;
    </div> 
    



  </div> <!-- /container -->





	</div>


  



  




  <footer class="footer">
    <div class="container">
    
      <p class="text-muted">Find me also on: &nbsp;
      

  <a href="http://kcl.academia.edu/MichelePasin" target="_blank">Academia</a> | 
  <a href="https://github.com/lambdamusic" target="_blank">GitHub</a> | 
  <a href="https://scholar.google.com/citations?user=zj-99x0AAAAJ&hl=en" target="_blank">Google Scholar</a> | 
  <a href="https://www.instagram.com/lambdamusic/" target="_blank">Instagram</a> |
  <a href="http://www.linkedin.com/pub/michele-pasin/1/223/a0" target="_blank">LinkedIn</a> |
  <a href="http://orcid.org/0000-0001-8909-7766" target="_blank">Orcid</a> |
  <a href="http://www.slideshare.net/mpasin" target="_blank">SlideShare</a> |
  <a href="https://soundcloud.com/magicrebirth" target="_blank">Soundcloud</a> |
  <a href="http://stackoverflow.com/users/109304/magicrebirth" target="_blank">StackOverflow</a> |
  <a href="http://twitter.com/#!/lambdaman" target="_blank">Twitter</a> |
  <a href="https://vimeo.com/lambdamusic" target="_blank">Vimeo</a> | 
  <a href="https://www.youtube.com/channel/UCanqSICbxzRNEZGMlu8qfyw" target="_blank">YouTube</a>
      
      </p>
    
    </div>
  </footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../media/static/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="../../media/static/libs/bootstrap-3.3.7-dist/js/bootstrap.min.js"></script>

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../media/static/libs/bootstrap-3.3.7-dist/js/ie10-viewport-bug-workaround.js"></script>

     <!-- Google site search --> 
    <script async src="https://cse.google.com/cse.js?cx=c23e79d025688b327"></script>

    


  

   



<!-- <script src="https://d3js.org/d3.v3.min.js"></script> -->

<script>

// based on http://bl.ocks.org/eyaler/10586116 





var data_local_dynamic = {
  "graph": [],
  "links": [
                
    //{"source": 0, "target": 1},
    ],
  "nodes": [
       

    // {"size": 60, "score": 0, "id": "Androsynth", "type": "circle"},
  ],
    "directed": false,
   "multigraph": false
} 

var chartDiv = document.getElementById("graph_div");
// Extract the width and height that was computed by CSS.
var divWidth = chartDiv.clientWidth;
var divHeight = chartDiv.clientHeight;

//var w = window.innerWidth;
//var h = window.innerHeight;

var keyc = true, keys = true, keyt = true, keyr = true, keyx = true, keyd = true, keyl = true, keym = true, keyh = true, key1 = true, key2 = true, key3 = true, key0 = true

var focus_node = null, highlight_node = null;

var text_center = false;
var outline = false;

var min_score = 0;
var max_score = 1;

var color = d3.scale.linear()
  .domain([min_score, (min_score+max_score)/2, max_score])
  .range(["lime", "yellow", "red"]);

var highlight_color = "blue";
var highlight_trans = 0.1;
  
var size = d3.scale.pow().exponent(1)
  .domain([1,100])
  .range([8,24]);
	
var force = d3.layout.force()
  .linkDistance(100)
  .charge(-500) // was 800
  .size([divWidth,divHeight]);

var default_node_color = "#ccc";
//var default_node_color = "rgb(3,190,100)";
var default_link_color = "#888";
var nominal_base_node_size = 8;
var nominal_text_size = 10;
var max_text_size = 24;
var nominal_stroke = 1.5;
var max_stroke = 4.5;
var max_base_node_size = 36;
var min_zoom = 0.1;
var max_zoom = 7;
// append to DOM
var svg = d3.select("#graph_div").append("svg");
var zoom = d3.behavior.zoom().scaleExtent([min_zoom,max_zoom])
var g = svg.append("g");
//
svg.style("cursor","move");

// d3.json("graph.json", function(error, graph) {

    var graph = data_local_dynamic;

    var linkedByIndex = {};
    graph.links.forEach(function(d) {
        linkedByIndex[d.source + "," + d.target] = true;
    });

    console.log(linkedByIndex);

    function isConnected(a, b) {
        return linkedByIndex[a.id + "," + b.id] || linkedByIndex[b.id + "," + a.id] || a.id == b.id;
    }
    // console.log( isConnected(graph.nodes[0], graph.nodes[1]));

    function hasConnections(a) {
        for (var property in linkedByIndex) {
                s = property.split(",");
                if ((s[0] == a.id || s[1] == a.id) && linkedByIndex[property]) 					return true;
        }
    return false;
    }

    /* resolve node IDs (not optimized at all!)
    http://bl.ocks.org/nitaku/7483341
    */
    _ref = graph.links;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      l = _ref[_i];
      _ref2 = graph.nodes;
      for (_j = 0, _len2 = _ref2.length; _j < _len2; _j++) {
        n = _ref2[_j];
        if (l.source === n.id) {
          l.source = n;
          continue;
        }
        if (l.target === n.id) {
          l.target = n;
          continue;
        }
      }
    }

    force
        .nodes(graph.nodes)
        .links(graph.links)
        .start();

    var link = g.selectAll(".link")
        .data(graph.links)
        .enter().append("line")
        .attr("class", "link")
        .style("stroke-width",nominal_stroke)
        .style("stroke", function(d) { 
        if (isNumber(d.score) && d.score>=0) return color(d.score);
        else return default_link_color; })


    var node = g.selectAll(".node")
        .data(graph.nodes)
        .enter().append("g")
        .attr("class", "node")
        
        .call(force.drag)

 
    //
    // Update page based on dbclick 
    //

         

    node.on("dblclick", function(d) { d3.event.stopPropagation();
            if (window.location.host.includes("michelepasin.org")) {
                window.location.href = "https://quotes.michelepasin.org/tags/index.html%3Ftag=" + d.id + ".html";
            } else {
                window.location.href = "/tags/?tag=" + d.id;
            }
            
        });   

        
        var tocolor = "fill";
        var towhite = "stroke";
        if (outline) {
            tocolor = "stroke"
            towhite = "fill"
        }
            
        
        
    var circle = node.append("path")
    .attr("d", d3.svg.symbol()
        .size(function(d) { return Math.PI*Math.pow(size(d.size)||nominal_base_node_size,2); })
        .type(function(d) { return d.type; }))
    
        .style(tocolor, function(d) { 
        if (isNumber(d.score) && d.score>=0) return color(d.score);
        else return default_node_color; })
        //.attr("r", function(d) { return size(d.size)||nominal_base_node_size; })
        .style("stroke-width", nominal_stroke)
        .style(towhite, "white");
        
                    
    var text = g.selectAll(".text")
        .data(graph.nodes)
        .enter().append("text")
        .attr("dy", ".35em")
        .style("font-size", nominal_text_size + "px")

        if (text_center)
        text.text(function(d) { return d.title; })
        .style("text-anchor", "middle");
        else 
        text.attr("dx", function(d) {return (size(d.size)||nominal_base_node_size);})
        .text(function(d) { return '\u2002'+d.title; });

        node.on("mouseover", function(d) {
        set_highlight(d);
        })
    .on("mousedown", function(d) { d3.event.stopPropagation();
        focus_node = d;
        set_focus(d)
        if (highlight_node === null) set_highlight(d)
        
    }	).on("mouseout", function(d) {
            exit_highlight();

    }	);

            d3.select(window).on("mouseup",  
            function() {
            if (focus_node!==null)
            {
                focus_node = null;
                if (highlight_trans<1)
                {
        
            circle.style("opacity", 1);
        text.style("opacity", 1);
        link.style("opacity", 1);
        }
            }
        
        if (highlight_node === null) exit_highlight();
            });

    function exit_highlight()
    {
            highlight_node = null;
        if (focus_node===null)
        {
            svg.style("cursor","move");
            if (highlight_color!="white")
        {
        circle.style(towhite, "white");
        text.style("font-weight", "normal");
        link.style("stroke", function(o) {return (isNumber(o.score) && o.score>=0)?color(o.score):default_link_color});
    }
                
        }
    }

    function set_focus(d)
    {	
    if (highlight_trans<1)  {
        circle.style("opacity", function(o) {
                    return isConnected(d, o) ? 1 : highlight_trans;
                });

                text.style("opacity", function(o) {
                    return isConnected(d, o) ? 1 : highlight_trans;
                });
                
                link.style("opacity", function(o) {
                    return o.source.id == d.id || o.target.id == d.id ? 1 : highlight_trans;
                });		
        }
    }


    function set_highlight(d)
    {
        svg.style("cursor","pointer");
        if (focus_node!==null) d = focus_node;
        highlight_node = d;

        if (highlight_color!="white")
        {
            circle.style(towhite, function(o) {
                    return isConnected(d, o) ? highlight_color : "white";});
                text.style("font-weight", function(o) {
                    return isConnected(d, o) ? "bold" : "normal";});
                link.style("stroke", function(o) {
                return o.source.id == d.id || o.target.id == d.id ? highlight_color : ((isNumber(o.score) && o.score>=0)?color(o.score):default_link_color);

                });
        }
    }
        
        
    zoom.on("zoom", function() {
    
        var stroke = nominal_stroke;
        if (nominal_stroke*zoom.scale()>max_stroke) stroke = max_stroke/zoom.scale();
        link.style("stroke-width",stroke);
        circle.style("stroke-width",stroke);
        
        var base_radius = nominal_base_node_size;
        if (nominal_base_node_size*zoom.scale()>max_base_node_size) base_radius = max_base_node_size/zoom.scale();
            circle.attr("d", d3.svg.symbol()
            .size(function(d) { return Math.PI*Math.pow(size(d.size)*base_radius/nominal_base_node_size||base_radius,2); })
            .type(function(d) { return d.type; }))
            
        //circle.attr("r", function(d) { return (size(d.size)*base_radius/nominal_base_node_size||base_radius); })
        if (!text_center) text.attr("dx", function(d) { return (size(d.size)*base_radius/nominal_base_node_size||base_radius); });
        
        var text_size = nominal_text_size;
        if (nominal_text_size*zoom.scale()>max_text_size) text_size = max_text_size/zoom.scale();
        text.style("font-size",text_size + "px");

        g.attr("transform", "translate(" + d3.event.translate + ")scale(" + d3.event.scale + ")");
        });
        
    svg.call(zoom);	  
    svg.attr("transform","scale(1.3,1.3)");  // initial zoom
        
    resize();
    //window.focus();
    d3.select(window).on("resize", resize).on("keydown", keydown);
        
    force.on("tick", function() {
        
        node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
        text.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });
    
        link.attr("x1", function(d) { return d.source.x; })
        .attr("y1", function(d) { return d.source.y; })
        .attr("x2", function(d) { return d.target.x; })
        .attr("y2", function(d) { return d.target.y; });
            
        node.attr("cx", function(d) { return d.x; })
        .attr("cy", function(d) { return d.y; });
        });
    
    function resize() {
        var width = chartDiv.clientWidth, height = chartDiv.clientHeight;
        svg.attr("width", width).attr("height", height);
        
        force.size([force.size()[0]+(width-divWidth)/zoom.scale(),force.size()[1]+(height-divHeight)/zoom.scale()]).resume();
        w = width;
        h = height;
        }
        
        function keydown() {
        if (d3.event.keyCode==32) {  force.stop();}
        else if (d3.event.keyCode>=48 && d3.event.keyCode<=90 && !d3.event.ctrlKey && !d3.event.altKey && !d3.event.metaKey)
        {
    switch (String.fromCharCode(d3.event.keyCode)) {
        case "C": keyc = !keyc; break;
        case "S": keys = !keys; break;
        case "T": keyt = !keyt; break;
        case "R": keyr = !keyr; break;
        case "X": keyx = !keyx; break;
        case "D": keyd = !keyd; break;
        case "L": keyl = !keyl; break;
        case "M": keym = !keym; break;
        case "H": keyh = !keyh; break;
        case "1": key1 = !key1; break;
        case "2": key2 = !key2; break;
        case "3": key3 = !key3; break;
        case "0": key0 = !key0; break;
    }
        
    link.style("display", function(d) {
                    var flag  = vis_by_type(d.source.type)&&vis_by_type(d.target.type)&&vis_by_node_score(d.source.score)&&vis_by_node_score(d.target.score)&&vis_by_link_score(d.score);
                    // console.log(d);
                    linkedByIndex[d.source.id + "," + d.target.id] = flag; // IMPORTANT?
                return flag?"inline":"none";});
    node.style("display", function(d) {
                    return (key0||hasConnections(d))&&vis_by_type(d.type)&&vis_by_node_score(d.score)?"inline":"none";});
    text.style("display", function(d) {
                    return (key0||hasConnections(d))&&vis_by_type(d.type)&&vis_by_node_score(d.score)?"inline":"none";});
                    
                    if (highlight_node !== null)
                    {
                        if ((key0||hasConnections(highlight_node))&&vis_by_type(highlight_node.type)&&vis_by_node_score(highlight_node.score)) { 
                        if (focus_node!==null) set_focus(focus_node);
                        set_highlight(highlight_node);
                        }
                        else {exit_highlight();}
                    }

    }	
    }
 
// });  // original d3.json ends here

function vis_by_type(type)
{
	switch (type) {
	  case "circle": return keyc;
	  case "square": return keys;
	  case "triangle-up": return keyt;
	  case "diamond": return keyr;
	  case "cross": return keyx;
	  case "triangle-down": return keyd;
	  default: return true;
}
}
function vis_by_node_score(score)
{
	if (isNumber(score))
	{
	if (score>=0.666) return keyh;
	else if (score>=0.333) return keym;
	else if (score>=0) return keyl;
	}
	return true;
}

function vis_by_link_score(score)
{
	if (isNumber(score))
	{
	if (score>=0.666) return key3;
	else if (score>=0.333) return key2;
	else if (score>=0) return key1;
}
	return true;
}

function isNumber(n) {
  return !isNaN(parseFloat(n)) && isFinite(n);
}	


</script>


  



    

      



  </body>
</html>
